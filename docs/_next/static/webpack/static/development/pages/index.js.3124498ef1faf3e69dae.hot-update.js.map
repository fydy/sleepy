{"version":3,"file":"static/webpack/static/development/pages/index.js.3124498ef1faf3e69dae.hot-update.js","sources":["webpack:///./components/PostList.js"],"sourcesContent":["import React from \"react\";\nimport Link from \"next/link\";\nimport api from \"../api\";\nimport Loading from \"../components/Loading\";\nimport { images } from \"../sleepy.config\";\nimport { relative } from \"../utils\";\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    this.page = 1;\n    this.state = { posts: [] };\n  }\n\n  componentDidMount() {\n    const { query } = this.props;\n    api\n      .byPage({\n        page: query.page || 1\n      })\n      .then(data => {\n        this.setState(() => ({\n          posts: data\n        }));\n      });\n  }\n\n  loadMore() {\n\n  }\n\n  render() {\n    const { posts } = this.state;\n\n    if (!posts.length) {\n      return <Loading />;\n    }\n\n    return (\n      <div className=\"post-list\">\n        {posts.map(item => (\n          <div key={item.id} className=\"post-item\">\n            <Link href={`post/?id=${item.id}`}>\n              <a>\n                <div\n                  className=\"poster\"\n                  style={{\n                    backgroundImage: `url(${item.poster ||\n                      images.poster ||\n                      \"/static/poster.png\"})`\n                  }}\n                />\n              </a>\n            </Link>\n            <div className=\"content\">\n              <Link href={`post/?id=${item.id}`}>\n                <a className=\"title\">{item.title}</a>\n              </Link>\n              <div className=\"excerpt\">{item.excerpt}</div>\n            </div>\n            <div className=\"time\">{relative(item.created_at)}</div>\n            <div className=\"tags\">\n              {item.tags.map(tag => (\n                <Link key={tag} href={`archive/?tag=${tag}`}>\n                  <a className=\"tag\">#{tag}</a>\n                </Link>\n              ))}\n            </div>\n          </div>\n        ))}\n\n        <div className=\"loadMore\" onClick={this.loadMore.bind(this)}>加载更多</div>\n      </div>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAHA;AAIA;AACA;;;AACA;AAAA;AACA;AADA;AAEA;AAEA;AADA;AAIA;AAAA;AACA;AADA;AAAA;AAGA;AACA;;;AAEA;;;AAIA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAtBA;AA+BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAnEA;AACA;;;;;A","sourceRoot":""}