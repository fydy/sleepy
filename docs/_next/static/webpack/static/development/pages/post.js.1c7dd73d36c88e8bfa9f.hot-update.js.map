{"version":3,"file":"static/webpack/static/development/pages/post.js.1c7dd73d36c88e8bfa9f.hot-update.js","sources":["webpack:///./components/PostItem.js"],"sourcesContent":["import React from 'react';\nimport Router from 'next/router';\nimport Link from 'next/link';\nimport { inject, observer } from 'mobx-react';\nimport api from '../api';\nimport Title from './Title';\nimport Gitting from '../components/Gitting';\nimport PageLoad from '../components/PageLoad';\nimport { seo } from '../sleepy.config';\nimport { relative, format, searchParams, t } from '../utils';\n\n@inject('store')\n@observer\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: null,\n      post: {}\n    };\n  }\n\n  componentDidMount() {\n    searchParams('id').then(id => {\n      api\n        .byId(id)\n        .then(data => {\n          this.setState(() => ({\n            id: id,\n            post: data\n          }));\n        })\n        .catch(() => {\n          Router.push('/error');\n        });\n    });\n  }\n\n  render() {\n    const { post } = this.state;\n    if (!post.id) {\n      return <PageLoad />;\n    }\n\n    return (\n      <div className=\"post-wrapper\">\n        <Title title={`${seo.title} | ${post.title}`} />\n        <div className=\"post-item\">\n          <div\n            className=\"content\"\n            style={{\n              padding: 0\n            }}\n          >\n            <Link href={`/post?id=${post.id}`}>\n              <a\n                className=\"title\"\n                style={{\n                  marginBottom: 10,\n                  fontSize: 18\n                }}\n              >\n                {post.title}\n              </a>\n            </Link>\n            <div\n              className=\"html markdown-body\"\n              dangerouslySetInnerHTML={{ __html: post.html }}\n            />\n          </div>\n          <div className=\"time\" title={format(post.created_at)}>{relative(post.created_at)}</div>\n          <div className=\"tags\">\n            {post.tags.map(tag => (\n              <span className=\"tag\">#{tag}</span>\n            ))}\n          </div>\n        </div>\n        {post.locked ? <div className=\"locked\">{t('commentLocked')}</div> : <Gitting id={this.state.id} />}\n      </div>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAGA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AAGA;AAAA;AACA;AACA;AAFA;AAAA;AAIA;AAEA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAFA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAnEA;AACA;;;;;A","sourceRoot":""}