{"version":3,"file":"static/webpack/static/development/pages/_app.js.568057f51ca75f4ceff8.hot-update.js","sources":["webpack:///./components/Baidutongji.js","webpack:///./components/Footer.js","webpack:///./components/Header.js","webpack:///./layouts/Home.js","webpack:///./node_modules/stack-blur-to-url/index.js","webpack:///./pages/_app.js"],"sourcesContent":["import React from \"react\";\nimport { baidutongji } from \"../sleepy.config\";\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    if (baidutongji && !window._hmt) {\n      window._hmt = window._hmt || [];\n      const hm = document.createElement(\"script\");\n      hm.src = `https://hm.baidu.com/hm.js?${baidutongji}`;\n      const s = document.getElementsByTagName(\"script\")[0];\n      s.parentNode.insertBefore(hm, s);\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n","import { seo } from \"../sleepy.config\";\n\nexport default () => <div className=\"footer\">{seo.copyright}</div>;\n","import React from 'react';\nimport { menus, images, seo, github } from '../sleepy.config';\nimport Link from 'next/link';\nimport stackBlurToUrl from 'stack-blur-to-url';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      banner: props.banner || images.banner || '/static/banner.png',\n      avatar: props.avatar || images.avatar || '/static/avatar.png',\n      blurBanner: props.banner || images.banner || '/static/banner.png',\n    };\n  }\n\n  componentDidMount() {\n    stackBlurToUrl(this.state.banner, 30).then(url => {\n      this.setState({\n        blurBanner: url\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    window.URL.revokeObjectURL(this.state.blurBanner);\n  }\n\n  render() {\n    const { banner, avatar, blurBanner } = this.state;\n    return (\n      <div\n        className=\"header\"\n        style={{\n          backgroundImage: `url(${banner})`\n        }}\n      >\n        <div\n          className=\"header-top\"\n          style={{\n            backgroundImage: `url(${blurBanner})`\n          }}\n        >\n          <div className=\"menus\">\n            {menus.map(item => (\n              <div key={item.name} className=\"menu-item\">\n                <Link href={item.link}>\n                  <a>{item.name}</a>\n                </Link>\n              </div>\n            ))}\n          </div>\n          <div className=\"github\">\n            <a\n              href={`https://github.com/${github.owner}/${github.repo}/issues`}\n              target=\"_blank\"\n            >\n              Github\n            </a>\n          </div>\n        </div>\n        <div className=\"header-center\" />\n        <div className=\"header-bottom\">\n          <Link href={menus[0].link}>\n            <a>\n              <div\n                className=\"avatar\"\n                style={{\n                  backgroundImage: `url(${avatar})`\n                }}\n              />\n            </a>\n          </Link>\n          <div className=\"name\">\n            <div className=\"title\">{seo.title}</div>\n            <div className=\"description\">{seo.description}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { seo } from \"../sleepy.config\";\nimport Title from \"../components/Title\";\nimport Header from \"../components/Header\";\nimport Footer from \"../components/Footer\";\nimport Baidutongji from \"../components/Baidutongji\";\nimport { isMobile } from \"../utils\";\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMobile: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState(() => ({\n      isMobile: isMobile()\n    }));\n  }\n\n  render() {\n    const { children } = this.props;\n    const { isMobile } = this.state;\n    return (\n      <div className={`layout layout-home${isMobile ? \" mobile\" : \"\"}`}>\n        <Title title={seo.title} />\n        <Header />\n        <div className=\"main\">{children}</div>\n        <Footer />\n        <Baidutongji />\n      </div>\n    );\n  }\n}\n","(function (window, factory) {\n    if (typeof exports === 'object') {\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else {\n        window.stackBlurToUrl = factory();\n    }\n})(this, function () {\n    var mul_table = [\n        512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512,\n        454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512,\n        482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456,\n        437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512,\n        497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328,\n        320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456,\n        446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335,\n        329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512,\n        505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405,\n        399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328,\n        324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271,\n        268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456,\n        451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388,\n        385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335,\n        332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292,\n        289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259\n    ];\n    \n    \n    var shg_table = [\n        9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17,\n        17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19,\n        19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20,\n        20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,\n        21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,\n        21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22,\n        22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22,\n        22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23,\n        23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n        23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n        23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,\n        23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n        24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n        24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n        24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n        24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24\n    ];\n    \n    function BlurStack() {\n        this.r = 0;\n        this.g = 0;\n        this.b = 0;\n        this.a = 0;\n        this.next = null;\n    }\n    \n    function stackBlurCanvasRGB(canvas, top_x, top_y, width, height, radius) {\n        if (isNaN(radius) || radius < 1) return;\n        radius |= 0;\n    \n        var context = canvas.getContext(\"2d\");\n        var imageData = context.getImageData(top_x, top_y, width, height);\n    \n        var pixels = imageData.data;\n    \n        var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum,\n            r_out_sum, g_out_sum, b_out_sum,\n            r_in_sum, g_in_sum, b_in_sum,\n            pr, pg, pb, rbs;\n    \n        var div = radius + radius + 1;\n        var w4 = width << 2;\n        var widthMinus1 = width - 1;\n        var heightMinus1 = height - 1;\n        var radiusPlus1 = radius + 1;\n        var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;\n    \n        var stackStart = new BlurStack();\n        var stack = stackStart;\n        for (i = 1; i < div; i++) {\n            stack = stack.next = new BlurStack();\n            if (i == radiusPlus1) var stackEnd = stack;\n        }\n        stack.next = stackStart;\n        var stackIn = null;\n        var stackOut = null;\n    \n        yw = yi = 0;\n    \n        var mul_sum = mul_table[radius];\n        var shg_sum = shg_table[radius];\n    \n        for (y = 0; y < height; y++) {\n            r_in_sum = g_in_sum = b_in_sum = r_sum = g_sum = b_sum = 0;\n    \n            r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n            g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n            b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n    \n            r_sum += sumFactor * pr;\n            g_sum += sumFactor * pg;\n            b_sum += sumFactor * pb;\n    \n            stack = stackStart;\n    \n            for (i = 0; i < radiusPlus1; i++) {\n                stack.r = pr;\n                stack.g = pg;\n                stack.b = pb;\n                stack = stack.next;\n            }\n    \n            for (i = 1; i < radiusPlus1; i++) {\n                p = yi + ((widthMinus1 < i ? widthMinus1 : i) << 2);\n                r_sum += (stack.r = (pr = pixels[p])) * (rbs = radiusPlus1 - i);\n                g_sum += (stack.g = (pg = pixels[p + 1])) * rbs;\n                b_sum += (stack.b = (pb = pixels[p + 2])) * rbs;\n    \n                r_in_sum += pr;\n                g_in_sum += pg;\n                b_in_sum += pb;\n    \n                stack = stack.next;\n            }\n    \n    \n            stackIn = stackStart;\n            stackOut = stackEnd;\n            for (x = 0; x < width; x++) {\n                pixels[yi] = (r_sum * mul_sum) >> shg_sum;\n                pixels[yi + 1] = (g_sum * mul_sum) >> shg_sum;\n                pixels[yi + 2] = (b_sum * mul_sum) >> shg_sum;\n    \n                r_sum -= r_out_sum;\n                g_sum -= g_out_sum;\n                b_sum -= b_out_sum;\n    \n                r_out_sum -= stackIn.r;\n                g_out_sum -= stackIn.g;\n                b_out_sum -= stackIn.b;\n    \n                p = (yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1)) << 2;\n    \n                r_in_sum += (stackIn.r = pixels[p]);\n                g_in_sum += (stackIn.g = pixels[p + 1]);\n                b_in_sum += (stackIn.b = pixels[p + 2]);\n    \n                r_sum += r_in_sum;\n                g_sum += g_in_sum;\n                b_sum += b_in_sum;\n    \n                stackIn = stackIn.next;\n    \n                r_out_sum += (pr = stackOut.r);\n                g_out_sum += (pg = stackOut.g);\n                b_out_sum += (pb = stackOut.b);\n    \n                r_in_sum -= pr;\n                g_in_sum -= pg;\n                b_in_sum -= pb;\n    \n                stackOut = stackOut.next;\n    \n                yi += 4;\n            }\n            yw += width;\n        }\n    \n    \n        for (x = 0; x < width; x++) {\n            g_in_sum = b_in_sum = r_in_sum = g_sum = b_sum = r_sum = 0;\n    \n            yi = x << 2;\n            r_out_sum = radiusPlus1 * (pr = pixels[yi]);\n            g_out_sum = radiusPlus1 * (pg = pixels[yi + 1]);\n            b_out_sum = radiusPlus1 * (pb = pixels[yi + 2]);\n    \n            r_sum += sumFactor * pr;\n            g_sum += sumFactor * pg;\n            b_sum += sumFactor * pb;\n    \n            stack = stackStart;\n    \n            for (i = 0; i < radiusPlus1; i++) {\n                stack.r = pr;\n                stack.g = pg;\n                stack.b = pb;\n                stack = stack.next;\n            }\n    \n            yp = width;\n    \n            for (i = 1; i <= radius; i++) {\n                yi = (yp + x) << 2;\n    \n                r_sum += (stack.r = (pr = pixels[yi])) * (rbs = radiusPlus1 - i);\n                g_sum += (stack.g = (pg = pixels[yi + 1])) * rbs;\n                b_sum += (stack.b = (pb = pixels[yi + 2])) * rbs;\n    \n                r_in_sum += pr;\n                g_in_sum += pg;\n                b_in_sum += pb;\n    \n                stack = stack.next;\n    \n                if (i < heightMinus1) {\n                    yp += width;\n                }\n            }\n    \n            yi = x;\n            stackIn = stackStart;\n            stackOut = stackEnd;\n            for (y = 0; y < height; y++) {\n                p = yi << 2;\n                pixels[p] = (r_sum * mul_sum) >> shg_sum;\n                pixels[p + 1] = (g_sum * mul_sum) >> shg_sum;\n                pixels[p + 2] = (b_sum * mul_sum) >> shg_sum;\n    \n                r_sum -= r_out_sum;\n                g_sum -= g_out_sum;\n                b_sum -= b_out_sum;\n    \n                r_out_sum -= stackIn.r;\n                g_out_sum -= stackIn.g;\n                b_out_sum -= stackIn.b;\n    \n                p = (x + (((p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width)) << 2;\n    \n                r_sum += (r_in_sum += (stackIn.r = pixels[p]));\n                g_sum += (g_in_sum += (stackIn.g = pixels[p + 1]));\n                b_sum += (b_in_sum += (stackIn.b = pixels[p + 2]));\n    \n                stackIn = stackIn.next;\n    \n                r_out_sum += (pr = stackOut.r);\n                g_out_sum += (pg = stackOut.g);\n                b_out_sum += (pb = stackOut.b);\n    \n                r_in_sum -= pr;\n                g_in_sum -= pg;\n                b_in_sum -= pb;\n    \n                stackOut = stackOut.next;\n    \n                yi += width;\n            }\n        }\n    \n        context.putImageData(imageData, top_x, top_y);\n    \n    }\n    \n    function stackBlurToUrl(url, radius) {\n        return new Promise(resolve => {\n            var img = new Image();\n            img.src = url;\n            img.addEventListener('load', function() {\n                var w = img.naturalWidth;\n                var h = img.naturalHeight;\n                var canvas = document.createElement('canvas');\n                canvas.style.width = w + \"px\";\n                canvas.style.height = h + \"px\";\n                canvas.width = w;\n                canvas.height = h;\n                var context = canvas.getContext(\"2d\");\n                context.clearRect(0, 0, w, h);\n                context.drawImage(img, 0, 0);\n                stackBlurCanvasRGB(canvas, 0, 0, w, h, radius);\n                canvas.toBlob(function(blob) {\n                    resolve(URL.createObjectURL(blob));\n                });\n            });\n        });\n    }\n\n    return stackBlurToUrl;\n});\n","import React from \"react\";\nimport App, { Container } from \"next/app\";\nimport Home from \"../layouts/Home\";\nimport \"normalize.css\";\nimport \"github-markdown-css\";\nimport \"gitting/dist/gitting.css\";\nimport \"../styles/index.scss\";\n\nclass MyApp extends App {\n  static async getInitialProps({ Component, ctx }) {\n    let pageProps = {};\n\n    if (Component.getInitialProps) {\n      pageProps = await Component.getInitialProps(ctx);\n    }\n\n    return { pageProps };\n  }\n\n  render() {\n    const { Component, pageProps } = this.props;\n\n    return (\n      <Container>\n        <div className=\"wrapper\">\n          <Home>\n            <Component {...pageProps} />\n          </Home>\n        </div>\n      </Container>\n    );\n  }\n}\n\nexport default MyApp;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;;;AAEA;AAAA;AACA;AADA;AAEA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;;AAjBA;AACA;;;;;;;;;;;;;;;;;;;;ACJA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAOA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;;;AAEA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AADA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AADA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AA1EA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AADA;AAFA;AAKA;AACA;;;AACA;AACA;AAAA;AACA;AADA;AAAA;AAGA;;;AAEA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AA1BA;AACA;;;;;;;;;;;;ACTA;AACA;AACA;AACA,aAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAWA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;;;;;;;;;AAtBA;AACA;AACA;AACA;;;;;;AACA;AACA;;AADA;AACA;;AAEA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AATA;AACA;AAyBA;;;;A","sourceRoot":""}