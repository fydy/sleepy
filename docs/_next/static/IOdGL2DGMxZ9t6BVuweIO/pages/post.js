(window.webpackJsonp=window.webpackJsonp||[]).push([["98d3"],{"8EBr":function(t,e,n){(function(e){t.exports=function(){"use strict";var t=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t},o=function(){},i={},a=[],s=[];function c(t,e){var n,r,c,u,l=s;for(u=arguments.length;2<u--;)a.push(arguments[u]);for(e&&null!=e.children&&(a.length||a.push(e.children),delete e.children);a.length;)if((r=a.pop())&&void 0!==r.pop)for(u=r.length;u--;)a.push(r[u]);else"boolean"==typeof r&&(r=null),(c="function"!=typeof t)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(c=!1)),c&&n?l[l.length-1]+=r:l===s?l=[r]:l.push(r),n=c;var d=new o;return d.nodeName=t,d.children=l,d.attributes=null==e?void 0:e,d.key=null==e?void 0:e.key,void 0!==i.vnode&&i.vnode(d),d}function u(t,e){for(var n in e)t[n]=e[n];return t}function l(t,e){null!=t&&("function"==typeof t?t(e):t.current=e)}var d="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function f(t,e){return c(t.nodeName,u(u({},t.attributes),e),2<arguments.length?[].slice.call(arguments,2):t.children)}var m=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,p=[];function h(t){!t._dirty&&(t._dirty=!0)&&1==p.push(t)&&(i.debounceRendering||d)(g)}function g(){for(var t;t=p.pop();)t._dirty&&j(t)}function v(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function y(t){var e=u({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===e[r]&&(e[r]=n[r]);return e}function b(t){var e=t.parentNode;e&&e.removeChild(t)}function w(t,e,n,r,o){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)l(n,null),l(r,t);else if("class"!==e||o)if("style"===e){if(r&&"string"!=typeof r&&"string"!=typeof n||(t.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(t.style[i]="");for(var i in r)t.style[i]="number"==typeof r[i]&&!1===m.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===e)r&&(t.innerHTML=r.__html||"");else if("o"==e[0]&&"n"==e[1]){var a=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),r?n||t.addEventListener(e,_,a):t.removeEventListener(e,_,a),(t._listeners||(t._listeners={}))[e]=r}else if("list"!==e&&"type"!==e&&!o&&e in t){try{t[e]=null==r?"":r}catch(t){}null!=r&&!1!==r||"spellcheck"==e||t.removeAttribute(e)}else{var s=o&&e!==(e=e.replace(/^xlink:?/,""));null==r||!1===r?s?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof r&&(s?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):t.setAttribute(e,r))}else t.className=r||""}function _(t){return this._listeners[t.type](i.event&&i.event(t)||t)}var k=[],S=0,x=!1,E=!1;function C(){for(var t;t=k.shift();)i.afterMount&&i.afterMount(t),t.componentDidMount&&t.componentDidMount()}function z(t,e,n,r,o,i){S++||(x=null!=o&&void 0!==o.ownerSVGElement,E=null!=t&&!("__preactattr_"in t));var a=function t(e,n,r,o,i){var a=e,s=x;if(null!=n&&"boolean"!=typeof n||(n=""),"string"==typeof n||"number"==typeof n)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||i)?e.nodeValue!=n&&(e.nodeValue=n):(a=document.createTextNode(n),e&&(e.parentNode&&e.parentNode.replaceChild(a,e),L(e,!0))),a.__preactattr_=!0,a;var c=n.nodeName;if("function"==typeof c)return function(t,e,n,r){for(var o=t&&t._component,i=o,a=t,s=o&&t._componentConstructor===e.nodeName,c=s,u=y(e);o&&!c&&(o=o._parentComponent);)c=o.constructor===e.nodeName;return o&&c&&(!r||o._component)?(D(o,u,3,n,r),t=o.base):(i&&!s&&(I(i),t=a=null),o=$(e.nodeName,u,n),t&&!o.nextBase&&(o.nextBase=t,a=null),D(o,u,1,n,r),t=o.base,a&&t!==a&&(a._component=null,L(a,!1))),t}(e,n,r,o);if(x="svg"===c||"foreignObject"!==c&&x,c=String(c),(!e||!v(e,c))&&(a=function(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.normalizedNodeName=t,n}(c,x),e)){for(;e.firstChild;)a.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(a,e),L(e,!0)}var u=a.firstChild,l=a.__preactattr_,d=n.children;if(null==l){l=a.__preactattr_={};for(var f=a.attributes,m=f.length;m--;)l[f[m].name]=f[m].value}return!E&&d&&1===d.length&&"string"==typeof d[0]&&null!=u&&void 0!==u.splitText&&null==u.nextSibling?u.nodeValue!=d[0]&&(u.nodeValue=d[0]):(d&&d.length||null!=u)&&function(e,n,r,o,i){var a,s,c,u,l,d,f,m,p=e.childNodes,h=[],g={},y=0,w=0,_=p.length,k=0,S=n?n.length:0;if(0!==_)for(var x=0;x<_;x++){var E=p[x],C=E.__preactattr_,z=S&&C?E._component?E._component.__key:C.key:null;null!=z?(y++,g[z]=E):(C||(void 0!==E.splitText?!i||E.nodeValue.trim():i))&&(h[k++]=E)}if(0!==S)for(var x=0;x<S;x++){u=n[x],l=null;var z=u.key;if(null!=z)y&&void 0!==g[z]&&(l=g[z],g[z]=void 0,y--);else if(w<k)for(a=w;a<k;a++)if(void 0!==h[a]&&(d=s=h[a],m=i,"string"==typeof(f=u)||"number"==typeof f?void 0!==d.splitText:"string"==typeof f.nodeName?!d._componentConstructor&&v(d,f.nodeName):m||d._componentConstructor===f.nodeName)){l=s,h[a]=void 0,a===k-1&&k--,a===w&&w++;break}l=t(l,u,r,o),c=p[x],l&&l!==e&&l!==c&&(null==c?e.appendChild(l):l===c.nextSibling?b(c):e.insertBefore(l,c))}if(y)for(var x in g)void 0!==g[x]&&L(g[x],!1);for(;w<=k;)void 0!==(l=h[k--])&&L(l,!1)}(a,d,r,o,E||null!=l.dangerouslySetInnerHTML),function(t,e,n){var r;for(r in n)e&&null!=e[r]||null==n[r]||w(t,r,n[r],n[r]=void 0,x);for(r in e)"children"===r||"innerHTML"===r||r in n&&e[r]===("value"===r||"checked"===r?t[r]:n[r])||w(t,r,n[r],n[r]=e[r],x)}(a,n.attributes,l),x=s,a}(t,e,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--S||(E=!1,i||C()),a}function L(t,e){var n=t._component;n?I(n):(null!=t.__preactattr_&&l(t.__preactattr_.ref,null),!1!==e&&null!=t.__preactattr_||b(t),O(t))}function O(t){for(t=t.lastChild;t;){var e=t.previousSibling;L(t,!0),t=e}}var M=[];function $(t,e,n){var r,o=M.length;for(t.prototype&&t.prototype.render?(r=new t(e,n),T.call(r,e,n)):((r=new T(e,n)).constructor=t,r.render=N);o--;)if(M[o].constructor===t)return r.nextBase=M[o].nextBase,M.splice(o,1),r;return r}function N(t,e,n){return this.constructor(t,n)}function D(t,e,n,r,o){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r)),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===i.syncComponentUpdates&&t.base?h(t):j(t,1,o)),l(t.__ref,t))}function j(t,e,n,r){if(!t._disable){var o,a,s,c=t.props,l=t.state,d=t.context,f=t.prevProps||c,m=t.prevState||l,p=t.prevContext||d,h=t.base,g=t.nextBase,v=h||g,b=t._component,w=!1,_=p;if(t.constructor.getDerivedStateFromProps&&(l=u(u({},l),t.constructor.getDerivedStateFromProps(c,l)),t.state=l),h&&(t.props=f,t.state=m,t.context=p,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(c,l,d)?w=!0:t.componentWillUpdate&&t.componentWillUpdate(c,l,d),t.props=c,t.state=l,t.context=d),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!w){o=t.render(c,l,d),t.getChildContext&&(d=u(u({},d),t.getChildContext())),h&&t.getSnapshotBeforeUpdate&&(_=t.getSnapshotBeforeUpdate(f,m));var x,E,O=o&&o.nodeName;if("function"==typeof O){var M=y(o);(a=b)&&a.constructor===O&&M.key==a.__key?D(a,M,1,d,!1):(x=a,t._component=a=$(O,M,d),a.nextBase=a.nextBase||g,a._parentComponent=t,D(a,M,0,d,!1),j(a,1,n,!0)),E=a.base}else s=v,(x=b)&&(s=t._component=null),(v||1===e)&&(s&&(s._component=null),E=z(s,o,d,n||!h,v&&v.parentNode,!0));if(v&&E!==v&&a!==b){var N=v.parentNode;N&&E!==N&&(N.replaceChild(E,v),x||(v._component=null,L(v,!1)))}if(x&&I(x),(t.base=E)&&!r){for(var T=t,H=t;H=H._parentComponent;)(T=H).base=E;E._component=T,E._componentConstructor=T.constructor}}for(!h||n?k.push(t):w||(t.componentDidUpdate&&t.componentDidUpdate(f,m,_),i.afterUpdate&&i.afterUpdate(t));t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);S||r||C()}}function I(t){i.beforeUnmount&&i.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?I(n):e&&(null!=e.__preactattr_&&l(e.__preactattr_.ref,null),b(t.nextBase=e),M.push(t),O(e)),l(t.__ref,null)}function T(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}function H(t,e,n){return z(n,t,{},!1,e,!1)}function A(){return{}}u(T.prototype,{setState:function(t,e){this.prevState||(this.prevState=this.state),this.state=u(u({},this.state),"function"==typeof t?t(this.state,this.props):t),e&&this._renderCallbacks.push(e),h(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),j(this,2)},render:function(){}});var P={h:c,createElement:c,cloneElement:f,createRef:A,Component:T,render:H,rerender:g,options:i},Y=Object.freeze({default:P,h:c,createElement:c,cloneElement:f,createRef:A,Component:T,render:H,rerender:g,options:i});function F(t,e){return t(e={exports:{}},e.exports),e.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var U=F(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(r){return"function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?t.exports=n=function(t){return e(t)}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},n(r)}t.exports=n}),R=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},W=function(t,e){return!e||"object"!==U(e)&&"function"!=typeof e?R(t):e},B=F(function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e}),G=F(function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(n,r)}t.exports=e}),q=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)};function J(t,e){for(var n in e)t[n]=e[n];return t}var V,Z=(V=Y)&&V.default||V,X=F(function(t,e){var n=Z;function r(t,e){for(var n in e)t[n]=e[n];return t}function o(t){this.getChildContext=function(){return{store:t.store}}}o.prototype.render=function(t){return t.children&&t.children[0]||t.children},e.connect=function(t,e){var o;return"function"!=typeof t&&("string"==typeof(o=t||{})&&(o=o.split(/\s*,\s*/)),t=function(t){for(var e={},n=0;n<o.length;n++)e[o[n]]=t[o[n]];return e}),function(o){function i(i,a){var s=this,c=a.store,u=t(c?c.getState():{},i),l=e?function(t,e){"function"==typeof t&&(t=t(e));var n={};for(var r in t)n[r]=e.action(t[r]);return n}(e,c):{store:c},d=function(){var e=t(c?c.getState():{},i);for(var n in e)if(e[n]!==u[n])return u=e,s.setState({});for(var r in u)if(!(r in e))return u=e,s.setState({})};this.componentWillReceiveProps=function(t){i=t,d()},this.componentDidMount=function(){c.subscribe(d)},this.componentWillUnmount=function(){c.unsubscribe(d)},this.render=function(t){return n.h(o,r(r(r({},l),t),u))}}return(i.prototype=new n.Component).constructor=i}},e.Provider=o}),Q=X.connect,K=X.Provider,tt=function(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()},et=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},nt="gitting_settings";function rt(t){var e=JSON.parse(window.localStorage.getItem(nt))||{};return t?e[t]:e}function ot(t,e){var n=Object.assign({},rt(),et({},t,e));return window.localStorage.setItem(nt,JSON.stringify(n))}function it(){return window.localStorage.removeItem(nt)}function at(t){return Object.keys(t).map(function(e){return"".concat(e,"=").concat(window.encodeURIComponent(t[e]||""))}).join("&")}function st(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return window.scroll({behavior:"smooth",left:0,top:t.getBoundingClientRect().top+window.scrollY+e}),t}function ct(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:3e3,n=document.createElement("div");n.classList.add("gitting-alert"),n.textContent=t,document.body.appendChild(n),setTimeout(function(){document.body.removeChild(n)},e)}function ut(t,e,n){if(!t)throw n&&n(),ct(e),new Error("Gitting Error: ".concat(e))}var lt={isLogin:function(){return!!rt("token")&&!!rt("userInfo")},userInfo:{},issue:{},comments:[],error:"",input:""},dt=function(t){return{throwError:function(t,e,n){return{error:e?n:""}},setUserInfo:function(t,e){return{userInfo:e}},setIssue:function(t,e){return{issue:e}},setComments:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=tt(t.comments);return e.forEach(function(t){n.find(function(e){return e.id===t.id})||n.push(t)}),{comments:n}},setInput:function(t,e){return{input:e}},logout:function(t,e){e&&e.preventDefault(),it(),window.location.reload()},login:function(t,e,n){n&&n.preventDefault(),t.input.trim()&&ot("input",t.input),ot("redirect_uri",window.location.href),window.location.href="http://github.com/login/oauth/authorize?".concat(at({state:"Gitting",client_id:e.clientID,redirect_uri:window.location.href,scope:"public_repo"}))}}},ft=F(function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new z(r||[]);return i._invoke=function(t,e,n){var r=l;return function(o,i){if(r===f)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=u(t,e,n);if("normal"===c.type){if(r=n.done?m:d,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=m,n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l="suspendedStart",d="suspendedYield",f="executing",m="completed",p={};function h(){}function g(){}function v(){}var y={};y[i]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(L([])));w&&w!==n&&r.call(w,i)&&(y=w);var _=v.prototype=h.prototype=Object.create(y);function k(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var e;this._invoke=function(n,o){function i(){return new Promise(function(e,i){!function e(n,o,i,a){var s=u(t[n],t,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(l).then(function(t){c.value=t,i(c)},function(t){return e("throw",t,i,a)})}a(s.arg)}(n,o,e,i)})}return e=e?e.then(i,i):i()}}function x(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=u(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function z(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:O}}function O(){return{value:e,done:!0}}return g.prototype=_.constructor=v,v.constructor=g,v[s]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},k(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,r,o){var i=new S(c(e,n,r,o));return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},k(_),_[s]="Generator",_[i]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=L,z.prototype={constructor:z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;0<=i;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}});function mt(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var pt=function(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){mt(i,r,o,a,s,"next",t)}function s(t){mt(i,r,o,a,s,"throw",t)}a(void 0)})}};function ht(e){return Q(Object.keys(lt).join(","),dt)(function(n){function o(){return t(this,o),W(this,B(o).apply(this,arguments))}return q(o,T),r(o,[{key:"render",value:function(t){return c(e,t)}}]),o}())}var gt=ht(function(e){function n(){return t(this,n),W(this,B(n).apply(this,arguments))}return q(n,T),r(n,[{key:"render",value:function(t){var e=t.issue,n=t.options,r=t.config,o=t.userInfo,i=t.isLogin,a=t.logout,s=t.login;return e?c("header",{class:"gitting-header"},c("a",{href:"https://github.com/".concat(n.owner,"/").concat(n.repo,"/issues/").concat(e.number),target:"_blank",class:"gitting-number"},e.comments||0," ",r.i18n("counts")),c("div",{class:"gitting-mate"},i()?c("span",null,c("a",{href:"#"},o.login),c("a",{href:"#",onClick:function(t){return a(t)}},r.i18n("logout"))):c("a",{href:"#",onClick:function(t){return s(n,t)}},r.i18n("login")),c("a",{href:"https://github.com/zhw2590582/gitting",target:"_blank"},"Gitting 2.1.0"))):null}}]),n}()),vt=ht(function(e){function n(){return t(this,n),W(this,B(n).apply(this,arguments))}return q(n,T),r(n,[{key:"render",value:function(t){return t.loading?c("div",{class:"gitting-loading"},c("div",{class:"lds-ellipsis"},c("div",null),c("div",null),c("div",null),c("div",null))):null}}]),n}()),yt=ht(function(e){function n(e){var r;return t(this,n),(r=W(this,B(n).call(this,e))).state={loading:!1,preview:!1,markdown:""},r}var o,i;return q(n,T),r(n,[{key:"onWrite",value:function(t){this.setState(function(){return{preview:!1}})}},{key:"onPreview",value:(i=pt(ft.mark(function t(e){var n,r,o,i,a;return ft.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.props,r=n.config,o=n.input,i=o.trim(),this.setState(function(){return{preview:!0,markdown:""}}),a="",i)return this.setState(function(){return{loading:!0}}),t.next=8,r.api.mdToHtml(i);t.next=12;break;case 8:a=t.sent,this.setState(function(){return{loading:!1}}),t.next=13;break;case 12:a=r.i18n("noPreview");case 13:this.setState(function(){return{markdown:a}});case 14:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)})},{key:"onSubmit",value:(o=pt(ft.mark(function t(e){var n,r,o,i,a,s,c,u,l=this;return ft.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.props,r=n.options,o=n.input,i=n.config,a=n.issue,s=n.setInput,ut(c=o.trim(),i.i18n("commentEmpty")),ut(c.length<=r.maxlength,i.i18n("wordsExceeds")),this.setState(function(){return{loading:!0}}),t.next=7,i.api.creatComments(a.number,c);case 7:ut((u=t.sent)&&u.id,i.i18n("commentFail"),function(){l.setState(function(){return{loading:!1}})}),this.setState(function(){return{loading:!1,markdown:""}}),u.id&&(s(""),ct(i.i18n("commentSuccess")),setTimeout(function(){st(i.$container.querySelector(".gitting-load")).click()},100));case 11:case"end":return t.stop()}},t,this)})),function(t){return o.apply(this,arguments)})},{key:"render",value:function(t,e){var n=this,r=t.options,o=t.input,i=t.setInput,a=t.config,s=t.userInfo,u=t.login,l=t.isLogin,d=e.preview,f=e.markdown,m=e.loading;return c("div",{class:"gitting-body"},c("div",{class:"gitting-avatar"},c("img",{src:l()?s.avatar_url:r.avatar,alt:"@".concat(l()?s.login:"github")})),c("div",{class:"gitting-editor"},c("div",{style:{display:d?"":"none"},class:"gitting-markdown markdown-body",dangerouslySetInnerHTML:{__html:f}}),c("textarea",{style:{display:d?"none":""},class:"gitting-textarea",placeholder:a.i18n("leave"),maxlength:r.maxlength,spellcheck:!1,value:o,onInput:function(t){return i(t.target.value)}}),c("div",{class:"gitting-tip",style:{display:d?"none":""}},c("a",{href:"https://guides.github.com/features/mastering-markdown/",target:"_blank"},a.i18n("styling")),c("span",{class:"gitting-counts"},r.maxlength-o.length," / ",r.maxlength)),c("div",{class:"gitting-tool"},c("div",{class:"gitting-switch"},c("span",{class:d?"":"active",onClick:function(t){return n.onWrite(t)}},a.i18n("write")),c("span",{class:d?"active":"",onClick:function(t){return n.onPreview(t)}},a.i18n("preview"))),l()?c("button",{class:"gitting-send",onClick:function(t){return n.onSubmit(t)}},a.i18n("submit")):c("a",{class:"gitting-send",href:"#",onClick:function(t){return u(r,t)}},a.i18n("login")))),c(vt,{loading:m}))}}]),n}()),bt=F(function(t,e){t.exports=function(){var t="millisecond",e="second",n="minute",r="hour",o="day",i="week",a="month",s="quarter",c="year",u=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},f={s:d,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),o=n%60;return(e<=0?"+":"-")+d(r,2,"0")+":"+d(o,2,"0")},m:function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,a),o=e-r<0,i=t.clone().add(n+(o?-1:1),a);return Number(-(n+(e-r)/(o?r-i:i-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(u){return{M:a,y:c,w:i,d:o,h:r,m:n,s:e,ms:t,Q:s}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p="en",h={};h[p]=m;var g=function(t){return t instanceof w},v=function(t,e,n){var r;if(!t)return null;if("string"==typeof t)h[t]&&(r=t),e&&(h[t]=e,r=t);else{var o=t.name;h[o]=t,r=o}return n||(p=r),r},y=function(t,e,n){if(g(t))return t.clone();var r=e?"string"==typeof e?{format:e,pl:n}:e:{};return r.date=t,new w(r)},b=f;b.l=v,b.i=g,b.w=function(t,e){return y(t,{locale:e.$L,utc:e.$u})};var w=function(){function d(t){this.$L=this.$L||v(t.locale,null,!0)||p,this.parse(t)}var f=d.prototype;return f.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(u);if(r)return n?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(e)}(t),this.init()},f.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},f.$utils=function(){return b},f.isValid=function(){return!("Invalid Date"===this.$d.toString())},f.isSame=function(t,e){var n=y(t);return this.startOf(e)<=n&&n<=this.endOf(e)},f.isAfter=function(t,e){return y(t)<this.startOf(e)},f.isBefore=function(t,e){return this.endOf(e)<y(t)},f.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},f.year=function(t){return this.$g(t,"$y",c)},f.month=function(t){return this.$g(t,"$M",a)},f.day=function(t){return this.$g(t,"$W",o)},f.date=function(t){return this.$g(t,"$D","date")},f.hour=function(t){return this.$g(t,"$H",r)},f.minute=function(t){return this.$g(t,"$m",n)},f.second=function(t){return this.$g(t,"$s",e)},f.millisecond=function(e){return this.$g(e,"$ms",t)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(t,s){var u=this,l=!!b.u(s)||s,d=b.p(t),f=function(t,e){var n=b.w(u.$u?Date.UTC(u.$y,e,t):new Date(u.$y,e,t),u);return l?n:n.endOf(o)},m=function(t,e){return b.w(u.toDate()[t].apply(u.toDate(),(l?[0,0,0,0]:[23,59,59,999]).slice(e)),u)},p=this.$W,h=this.$M,g=this.$D,v="set"+(this.$u?"UTC":"");switch(d){case c:return l?f(1,0):f(31,11);case a:return l?f(1,h):f(0,h+1);case i:var y=this.$locale().weekStart||0,w=(p<y?p+7:p)-y;return f(l?g-w:g+(6-w),h);case o:case"date":return m(v+"Hours",0);case r:return m(v+"Minutes",1);case n:return m(v+"Seconds",2);case e:return m(v+"Milliseconds",3);default:return this.clone()}},f.endOf=function(t){return this.startOf(t,!1)},f.$set=function(i,s){var u,l=b.p(i),d="set"+(this.$u?"UTC":""),f=((u={}).day=d+"Date",u.date=d+"Date",u[a]=d+"Month",u[c]=d+"FullYear",u[r]=d+"Hours",u[n]=d+"Minutes",u[e]=d+"Seconds",u[t]=d+"Milliseconds",u)[l],m=l===o?this.$D+(s-this.$W):s;if(l===a||l===c){var p=this.clone().set("date",1);p.$d[f](m),p.init(),this.$d=p.set("date",Math.min(this.$D,p.daysInMonth())).toDate()}else f&&this.$d[f](m);return this.init(),this},f.set=function(t,e){return this.clone().$set(t,e)},f.get=function(t){return this[b.p(t)]()},f.add=function(t,s){var u,l=this;t=Number(t);var d=b.p(s),f=function(e){var n=new Date(l.$d);return n.setDate(n.getDate()+e*t),b.w(n,l)};if(d===a)return this.set(a,this.$M+t);if(d===c)return this.set(c,this.$y+t);if(d===o)return f(1);if(d===i)return f(7);var m=((u={})[n]=6e4,u[r]=36e5,u[e]=1e3,u)[d]||1,p=this.valueOf()+t*m;return b.w(p,this)},f.subtract=function(t,e){return this.add(-1*t,e)},f.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=b.z(this),o=this.$locale(),i=o.weekdays,a=o.months,s=function(t,e,n,r){return t&&t[e]||n[e].substr(0,r)},c=function(t){return b.s(e.$H%12||12,t,"0")},u={YY:String(this.$y).slice(-2),YYYY:String(this.$y),M:String(this.$M+1),MM:b.s(this.$M+1,2,"0"),MMM:s(o.monthsShort,this.$M,a,3),MMMM:a[this.$M],D:String(this.$D),DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:s(o.weekdaysMin,this.$W,i,2),ddd:s(o.weekdaysShort,this.$W,i,3),dddd:i[this.$W],H:String(this.$H),HH:b.s(this.$H,2,"0"),h:c(1),hh:c(2),a:this.$H<12?"am":"pm",A:this.$H<12?"AM":"PM",m:String(this.$m),mm:b.s(this.$m,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:r};return n.replace(l,function(t,e){return e||u[t]||r.replace(":","")})},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(t,o,u){var l,d=b.p(o),f=y(t),m=6e4*(f.utcOffset()-this.utcOffset()),p=this-f,h=b.m(this,f);return h=((l={})[c]=h/12,l[a]=h,l[s]=h/3,l[i]=(p-m)/6048e5,l.day=(p-m)/864e5,l[r]=p/36e5,l[n]=p/6e4,l[e]=p/1e3,l)[d]||p,u?h:b.a(h)},f.daysInMonth=function(){return this.endOf(a).$D},f.$locale=function(){return h[this.$L]},f.locale=function(t,e){if(!t)return this.$L;var n=this.clone();return n.$L=v(t,e,!0),n},f.clone=function(){return b.w(this.toDate(),this)},f.toDate=function(){return new Date(this.$d)},f.toJSON=function(){return this.toISOString()},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},d}();return y.prototype=w.prototype,y.extend=function(t,e){return t(e,w,y),y},y.locale=v,y.isDayjs=g,y.unix=function(t){return y(1e3*t)},y.en=h[p],y.Ls=h,y}()}),wt=F(function(t,e){t.exports=function(t,e,n){var r=e.prototype;n.en.relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};var o=function(t,e,r,o){for(var i,a,s=r.$locale().relativeTime,c=[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],u=c.length,l=0;l<u;l+=1){var d=c[l];d.d&&(i=o?n(t).diff(r,d.d,!0):r.diff(t,d.d,!0));var f=Math.ceil(Math.abs(i));if(f<=d.r||!d.r){a=s[d.l].replace("%d",f);break}}return e?a:(0<i?s.future:s.past).replace("%s",a)};r.to=function(t,e){return o(t,e,this,!0)},r.from=function(t,e){return o(t,e,this)},r.toNow=function(t){return this.to(n(),t)},r.fromNow=function(t){return this.from(n(),t)}}});F(function(t,e){t.exports=function(t){t=t&&t.hasOwnProperty("default")?t.default:t;var e={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(t,e){switch(e){case"W":return t+"周";default:return t+"日"}},weekStart:1,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"}};return t.locale(e,null,!0),e}(bt)}),F(function(t,e){t.exports={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")}}),bt.extend(wt);var _t=ht(function(t){t.options;var e=t.config,n=t.item,r=t.reply;return c("div",{className:"gitting-comment-item",key:n.id,"data-id":n.id},c("div",{className:"gitting-avatar"},c("a",{href:n.user.html_url,target:"_blank"},c("img",{src:n.user.avatar_url,alt:"@".concat(n.user.login)}))),c("div",{className:"gitting-content gitting-caret"},c("div",{className:"gitting-content-body markdown-body",dangerouslySetInnerHTML:{__html:n.body_html}}),c("div",{className:"gitting-content-mate"},c("span",null,c("a",{className:"gitting-content-name",href:n.user.html_url,target:"_blank"},n.user.login),c("span",{className:"gitting-content-time","data-time":n.created_at},e.i18n("published")," ",bt(n.created_at).fromNow())),c("a",{className:"gitting-content-reply",href:"#",onClick:function(t){return r(n,t)}},e.i18n("reply")))))}),kt=ht(function(e){function n(e){var r;return t(this,n),r=W(this,B(n).call(this,e)),bt.locale(e.options.language),r.state={loading:!1,loadMore:!1,page:1},r.reply=r.reply.bind(R(r)),r}var o,i;return q(n,T),r(n,[{key:"componentDidMount",value:(i=pt(ft.mark(function t(){var e,n,r,o,i,a,s;return ft.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setState(function(){return{loading:!0}}),e=this.props,n=e.options,r=e.config,o=e.setComments,i=e.issue,a=this.state.page,i.number)return t.next=6,r.api.getComments(i.number,a);t.next=10;break;case 6:s=t.sent,ut(Array.isArray(s),r.i18n("getCommentFail")),o(s),n.perPage===s.length&&this.setState(function(){return{page:a+1}});case 10:this.setState(function(){return{loading:!1}});case 11:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})},{key:"reply",value:function(t,e){e.preventDefault();var n=this.props,r=n.input,o=n.setInput,i=n.config;o(r+"".concat(r?"\n":"","> @").concat(t.user.login,"\n> ").concat(t.body,"\n")),st(i.$container)}},{key:"loadMore",value:(o=pt(ft.mark(function t(e){var n,r,o,i,a,s,c;return ft.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),this.setState(function(){return{loadMore:!0}}),n=this.props,r=n.options,o=n.config,i=n.setComments,a=n.issue,s=this.state.page,a.number)return t.next=7,o.api.getComments(a.number,s);t.next=11;break;case 7:c=t.sent,ut(Array.isArray(c),o.i18n("getCommentFail")),i(c),r.perPage===c.length&&this.setState(function(){return{page:s+1}});case 11:this.setState(function(){return{loadMore:!1}});case 12:case"end":return t.stop()}},t,this)})),function(t){return o.apply(this,arguments)})},{key:"render",value:function(t,e){var n=this,r=t.options,o=t.config,i=t.comments,a=e.loading,s=e.loadMore;return c("div",{className:"gitting-comments"},a?c(vt,{loading:a}):i.map(function(t){return c(_t,{options:r,config:o,item:t,key:t.id,reply:n.reply})}),s?c("span",{class:"gitting-load"},o.i18n("loading")):c("a",{href:"#",class:"gitting-load",onClick:function(t){return n.loadMore(t)}},o.i18n("loadMore")))}}]),n}()),St=ht(function(e){function n(e){var r;return t(this,n),(r=W(this,B(n).call(this,e))).state={loading:!1,init:!1},r}var o,i;return q(n,T),r(n,[{key:"componentDidMount",value:(i=pt(ft.mark(function t(){var e,n,r,o,i,a,s,c,u,l,d,f,m,p,h,g=this;return ft.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setState(function(){return{loading:!0}}),e=this.props,n=e.options,r=e.config,o=e.setUserInfo,i=e.setIssue,a=e.setInput,s=(window.location.href.match(/([^?=&]+)(=([^&]*))/g)||[]).reduce(function(t,e){return t[e.slice(0,e.indexOf("="))]=e.slice(e.indexOf("=")+1),t},{}),c=s.code)return t.next=6,r.api.getToken(c);t.next=17;break;case 6:return ut((u=t.sent).access_token,r.i18n("loginAgainForToken")),ot("token",u.access_token),t.next=11,r.api.getUserInfo(u.access_token);case 11:ut((l=t.sent).id,r.i18n("loginAgainForUser")),ot("userInfo",l),ut(d=rt("redirect_uri"),r.i18n("loginAgainForRedirect")),window.history.replaceState(null,"",d);case 17:if(o(rt("userInfo")||{}),a(rt("input")||""),ot("input",""),0<Number(n.number))return t.next=23,r.api.getIssueById(n.number);t.next=28;break;case 23:ut((f=t.sent)&&f.number,r.i18n("getIssueFail"),function(){g.setState(function(){return{init:!0}}),g.setState(function(){return{loading:!1}})}),i(f),t.next=35;break;case 28:return m=n.labels.concat(n.id).join(","),t.next=31,r.api.getIssueByLabel(m);case 31:p=t.sent,ut((h=Array.isArray(p)&&p.length?p[0]:null)&&h.number,r.i18n("getIssueFail"),function(){g.setState(function(){return{init:!0}}),g.setState(function(){return{loading:!1}})}),i(h);case 35:this.setState(function(){return{loading:!1}});case 36:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})},{key:"onInit",value:(o=pt(ft.mark(function t(){var e,n,r,o,i,a,s,c;return ft.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.props,n=e.options,r=e.config,o=e.userInfo,i=e.isLogin,a=e.login,i()){t.next=4;break}return a(n),t.abrupt("return");case 4:return ut(n.admin.includes(o.login),r.i18n("permissionFail")),s={title:document.title,body:"".concat(document.title,"\n").concat(window.location.href),labels:n.labels.concat(n.id)},t.next=8,r.api.creatIssues(s);case 8:ut((c=t.sent)&&c.number,r.i18n("initFail")),window.location.reload();case 11:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)})},{key:"render",value:function(t,e){var n=this,r=t.options,o=t.config,i=e.loading,a=e.init;return c("div",{class:"gitting-container gitting-theme-".concat(r.theme)},i?c(vt,{loading:i}):c("div",null,a?c("button",{className:"gitting-init",onClick:function(t){return n.onInit(t)}},o.i18n("init")):c("div",null,c(gt,{options:r,config:o}),c(yt,{options:r,config:o}),c(kt,{options:r,config:o}))))}}]),n}()),xt=function(e){function n(e){var r;return t(this,n),(r=W(this,B(n).call(this,e))).store=function(t){var e=[];function n(t){for(var n=[],r=0;r<e.length;r++)e[r]===t?t=null:n.push(e[r]);e=n}function r(n,r,o){t=r?n:J(J({},t),n);for(var i=e,a=0;a<i.length;a++)i[a](t,o)}return t=t||{},{action:function(e){function n(t){r(t,!1,e)}return function(){for(var r=arguments,o=[t],i=0;i<arguments.length;i++)o.push(r[i]);var a=e.apply(this,o);if(null!=a)return a.then?a.then(n):n(a)}},setState:r,subscribe:function(t){return e.push(t),function(){n(t)}},unsubscribe:n,getState:function(){return t}}}(lt),r}return q(n,T),r(n,[{key:"render",value:function(t){var e=t.options,n=t.config;return c(K,{store:this.store},c(St,{options:e,config:n}))}}]),n}();function Et(t){var e=new AbortController,n=function(t){return function(e,n,r,o){e=e.toUpperCase(),r=r&&JSON.stringify(r);var i={"Content-Type":"application/json",Accept:"application/json"};o&&(i=Object.assign({},i,o));var a=rt("token");return a&&(i.Authorization="token ".concat(a)),fetch(n,{method:e,headers:i,body:r,signal:t.signal}).then(function(t){return 404===t.status?Promise.reject("Unauthorized."):401!==t.status?"text/html"===i.Accept?t.text():t.json():(it(),void window.location.reload())}).catch(function(t){console.warn(t,n)})}}(e),r="https://api.github.com/repos/".concat(t.owner,"/").concat(t.repo,"/issues"),o={client_id:t.clientID,client_secret:t.clientSecret};return{getToken:function(e){var r=Object.assign({},o,{code:e,redirect_uri:location.href});return n("get","".concat(t.proxy,"?").concat(at(r)))},getUserInfo:function(t){return n("get","https://api.github.com/user?access_token=".concat(t))},getIssueByLabel:function(t){var e=Object.assign({},o,{labels:t,t:Date.now()});return n("get","".concat(r,"?").concat(at(e)))},getIssueById:function(t){var e=Object.assign({},o,{t:Date.now()});return n("get","".concat(r,"/").concat(t,"?").concat(at(e)))},getComments:function(e,i){var a=Object.assign({},o,{per_page:t.perPage,page:i,t:Date.now()});return n("get","".concat(r,"/").concat(e,"/comments?").concat(at(a)),null,{Accept:"application/vnd.github.v3.full+json"})},creatIssues:function(t){var e=Object.assign({},o,t,{t:Date.now()});return n("post",r,e)},creatComments:function(t,e){var i=Object.assign({},o,{body:e,t:Date.now()});return n("post","".concat(r,"/").concat(t,"/comments"),i,{Accept:"application/vnd.github.v3.full+json"})},mdToHtml:function(t){var e=Object.assign({},o,{text:t,t:Date.now()});return n("post","https://api.github.com/markdown",e,{Accept:"text/html"})},abort:function(){e&&e.abort&&e.abort()}}}var Ct={"zh-cn":{init:"登录以初始化一个评论",counts:"条评论",login:"登录",logout:"注销",leave:"发表评论",styling:"支持使用Markdown进行样式设置",write:"编写",preview:"预览",noPreview:"无预览内容",submit:"提交",reply:"回复",loadMore:"加载更多",loading:"加载中...",loadEnd:"加载完毕",published:"发表于",loginAgainForToken:"无法获取token，请重新登录!",loginAgainForUser:"无法获取用户信息，请重新登录!",loginAgainForRedirect:"无法获取重定向地址，请重新登录!",getIssueFail:"获取issue失败，是否初始化一个issue?",permissionFail:"你无权限初始化此issue，请联系管理员！",initFail:"初始化issue失败，请重试！",commentEmpty:"评论不能为空！",commentFail:"评论失败，请重试！",commentSuccess:"评论成功！",getCommentFail:"获取评论列表失败，请重试！",wordsExceeds:"字数超出限制，请重新输入！"},en:{init:"Login then initialize a issue",counts:"comments",login:"Login",logout:"Logout",leave:"Leave a comment",styling:"Styling with Markdown is supported",write:"Write",preview:"Preview",noPreview:"Nothing to preview",submit:"Submit",reply:"Reply",loadMore:"Load More",loading:"loading...",loadEnd:"Load completed",published:"Published on",loginAgainForToken:"Can not get token, Please login again!",loginAgainForUser:"Can not get user info, Please login again!",loginAgainForRedirect:"Can not get redirect url, Please login again!",getIssueFail:"Failed to get issue, Do you want to initialize an new issue?",permissionFail:"You do not have permission to initialize this issue, please contact the administrator",initFail:"Initialization of the issue failed, please try again!",commentEmpty:"Comment content cannot be empty!",commentFail:"Comment failed, please try again!",commentSuccess:"Comment successfully!",getCommentFail:"Failed to get comment list, please try again!",wordsExceeds:"The number of words exceeds the limit, please re-enter!"}};return function(){function e(){var n=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.options=Object.assign({},e.DEFAULT,r),["clientID","clientSecret","repo","owner"].forEach(function(t){if(!n.options[t].trim())throw new Error("The options.".concat(t," can not be empty"))}),this.config={$root:null,$container:null,api:Et(this.options),i18n:function(t){var e=Ct[t]||Ct["zh-cn"];return function(t){return e[t]||"Unmath key: ".concat(t)}}(this.options.language)}}return r(e,[{key:"render",value:function(t){return this.config.$container=t instanceof Element?t:document.querySelector(t),this.config.$root=H(c(xt,{options:this.options,config:this.config}),this.config.$container),this}},{key:"destroy",value:function(){return H(null,this.config.$container,this.config.$root),this}},{key:"abort",value:function(){return this.config.api.abort(),this}}],[{key:"DEFAULT",get:function(){return{clientID:"",clientSecret:"",repo:"",owner:"",admin:[],theme:"white",id:window.location.pathname,number:-1,labels:["Gitting"],language:"zh-cn",perPage:10,maxlength:500,avatar:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",proxy:"https://cors-anywhere.herokuapp.com/https://github.com/login/oauth/access_token"}}}]),e}()}()}).call(this,n("0t2J"))},EhLH:function(t,e,n){"use strict";n.r(e);var r=n("zdv8"),o=n.n(r),i=n("arjh"),a=n("uqIC"),s=n.n(a),c=n("8SEe"),u=n("95Bc"),l=n("lvNx"),d=n("EjGv"),f=n("A6+v"),m=n("SxE1"),p=n("3A5w"),h=n.n(p),g=n("7Ode"),v=n.n(g),y=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},b=function(t){return"IMG"===t.tagName},w=function(t){return t&&1===t.nodeType},_=function(t){return".svg"===(t.currentSrc||t.src).substr(-4).toLowerCase()},k=function(t){try{return Array.isArray(t)?t.filter(b):function(t){return NodeList.prototype.isPrototypeOf(t)}(t)?[].slice.call(t).filter(b):w(t)?[t].filter(b):"string"==typeof t?[].slice.call(document.querySelectorAll(t)).filter(b):[]}catch(t){throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.\nSee: https://github.com/francoischalifour/medium-zoom")}},S=function(t,e){var n=y({bubbles:!1,cancelable:!1,detail:void 0},e);if("function"==typeof window.CustomEvent)return new CustomEvent(t,n);var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),r};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}");var x=function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=window.Promise||function(t){function e(){}t(e,e)},o=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.reduce(function(t,e){return[].concat(t,k(e))},[]);return r.filter(function(t){return-1===c.indexOf(t)}).forEach(function(t){c.push(t),t.classList.add("medium-zoom-image")}),u.forEach(function(t){var e=t.type,n=t.listener,o=t.options;r.forEach(function(t){t.addEventListener(e,n,o)})}),h},i=function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).target,e=function(){var t=Math.min,e={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},n=void 0,r=void 0;if(f.container)if(f.container instanceof Object)n=(e=y({},e,f.container)).width-e.left-e.right-2*f.margin,r=e.height-e.top-e.bottom-2*f.margin;else{var o=(w(f.container)?f.container:document.querySelector(f.container)).getBoundingClientRect(),i=o.width,a=o.height,s=o.left,c=o.top;e=y({},e,{width:i,height:a,left:s,top:c})}n=n||e.width-2*f.margin,r=r||e.height-2*f.margin;var u=m.zoomedHd||m.original,l=_(u)?n:u.naturalWidth||n,d=_(u)?r:u.naturalHeight||r,p=u.getBoundingClientRect(),h=p.top,g=p.left,v=p.width,b=p.height,k=t(l,n)/v,S=t(d,r)/b,x=t(k,S),E="scale("+x+") translate3d("+((n-v)/2-g+f.margin+e.left)/x+"px, "+((r-b)/2-h+f.margin+e.top)/x+"px, 0)";m.zoomed.style.transform=E,m.zoomedHd&&(m.zoomedHd.style.transform=E)};return new r(function(n){if(t&&-1===c.indexOf(t))n(h);else if(m.zoomed)n(h);else{if(t)m.original=t;else{if(!(0<c.length))return void n(h);var r=c;m.original=r[0]}if(m.original.dispatchEvent(S("medium-zoom:open",{detail:{zoom:h}})),d=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,l=!0,m.zoomed=function(t){var e=t.getBoundingClientRect(),n=e.top,r=e.left,o=e.width,i=e.height,a=t.cloneNode(),s=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,c=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return a.removeAttribute("id"),a.style.position="absolute",a.style.top=n+s+"px",a.style.left=r+c+"px",a.style.width=o+"px",a.style.height=i+"px",a.style.transform="",a}(m.original),document.body.appendChild(p),f.template){var o=w(f.template)?f.template:document.querySelector(f.template);m.template=document.createElement("div"),m.template.appendChild(o.content.cloneNode(!0)),document.body.appendChild(m.template)}if(document.body.appendChild(m.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),m.original.classList.add("medium-zoom-image--hidden"),m.zoomed.classList.add("medium-zoom-image--opened"),m.zoomed.addEventListener("click",a),m.zoomed.addEventListener("transitionend",function t(){l=!1,m.zoomed.removeEventListener("transitionend",t),m.original.dispatchEvent(S("medium-zoom:opened",{detail:{zoom:h}})),n(h)}),m.original.getAttribute("data-zoom-src")){m.zoomedHd=m.zoomed.cloneNode(),m.zoomedHd.removeAttribute("srcset"),m.zoomedHd.removeAttribute("sizes"),m.zoomedHd.src=m.zoomed.getAttribute("data-zoom-src"),m.zoomedHd.onerror=function(){clearInterval(i),console.warn("Unable to reach the zoom image target "+m.zoomedHd.src),m.zoomedHd=null,e()};var i=setInterval(function(){m.zoomedHd.complete&&(clearInterval(i),m.zoomedHd.classList.add("medium-zoom-image--opened"),m.zoomedHd.addEventListener("click",a),document.body.appendChild(m.zoomedHd),e())},10)}else if(m.original.hasAttribute("srcset")){m.zoomedHd=m.zoomed.cloneNode(),m.zoomedHd.removeAttribute("sizes");var s=m.zoomedHd.addEventListener("load",function(){m.zoomedHd.removeEventListener("load",s),m.zoomedHd.classList.add("medium-zoom-image--opened"),m.zoomedHd.addEventListener("click",a),document.body.appendChild(m.zoomedHd),e()})}else e()}})},a=function(){return new r(function(t){!l&&m.original?(l=!0,document.body.classList.remove("medium-zoom--opened"),m.zoomed.style.transform="",m.zoomedHd&&(m.zoomedHd.style.transform=""),m.template&&(m.template.style.transition="opacity 150ms",m.template.style.opacity=0),m.original.dispatchEvent(S("medium-zoom:close",{detail:{zoom:h}})),m.zoomed.addEventListener("transitionend",function e(){m.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(m.zoomed),m.zoomedHd&&document.body.removeChild(m.zoomedHd),document.body.removeChild(p),m.zoomed.classList.remove("medium-zoom-image--opened"),m.template&&document.body.removeChild(m.template),l=!1,m.zoomed.removeEventListener("transitionend",e),m.original.dispatchEvent(S("medium-zoom:closed",{detail:{zoom:h}})),m.original=null,m.zoomed=null,m.zoomedHd=null,m.template=null,t(h)})):t(h)})},s=function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).target;return m.original?a():i({target:t})},c=[],u=[],l=!1,d=0,f=n,m={original:null,zoomed:null,zoomedHd:null,template:null};"[object Object]"===Object.prototype.toString.call(e)?f=e:(e||"string"==typeof e)&&o(e);var p=function(t){var e=document.createElement("div");return e.classList.add("medium-zoom-overlay"),e.style.background=t,e}((f=y({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},f)).background);document.addEventListener("click",function(t){var e=t.target;return e===p?void a():void(-1===c.indexOf(e)||s({target:e}))}),document.addEventListener("keyup",function(t){27===(t.keyCode||t.which)&&a()}),document.addEventListener("scroll",function(){if(!l&&m.original){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(d-t)>f.scrollOffset&&setTimeout(a,150)}}),window.addEventListener("resize",a);var h={open:i,close:a,toggle:s,update:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t;if(t.background&&(p.style.background=t.background),t.container&&t.container instanceof Object&&(e.container=y({},f.container,t.container)),t.template){var n=w(t.template)?t.template:document.querySelector(t.template);e.template=n}return f=y({},f,e),c.forEach(function(t){t.dispatchEvent(S("medium-zoom:update",{detail:{zoom:h}}))}),h},clone:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t(y({},f,e))},attach:o,detach:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];m.zoomed&&a();var r=0<e.length?e.reduce(function(t,e){return[].concat(t,k(e))},[]):c;return r.forEach(function(t){t.classList.remove("medium-zoom-image"),t.dispatchEvent(S("medium-zoom:detach",{detail:{zoom:h}}))}),c=c.filter(function(t){return-1===r.indexOf(t)}),h},on:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return c.forEach(function(r){r.addEventListener("medium-zoom:"+t,e,n)}),u.push({type:"medium-zoom:"+t,listener:e,options:n}),h},off:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return c.forEach(function(r){r.removeEventListener("medium-zoom:"+t,e,n)}),u=u.filter(function(n){return n.type!=="medium-zoom:"+t||n.listener.toString()!==e.toString()}),h},getOptions:function(){return f},getImages:function(){return c},getZoomedImage:function(){return m.original}};return h},E=n("bMwp"),C=n("W9HR"),z=n("sHjt"),L=n("8EBr"),O=n.n(L),M=n("Z69C"),$=function(t){function e(t){var n;return Object(u.default)(this,e),(n=Object(d.default)(this,Object(f.default)(e).call(this,t))).gittingRef=s.a.createRef(),n}return Object(m.default)(e,t),Object(l.default)(e,[{key:"componentDidMount",value:function(){var t=this.props.id;t&&(this.gitting=new O.a(Object(z.a)({},M.github,{number:t})),this.gitting.render(this.gittingRef.current))}},{key:"componentWillUnmount",value:function(){this.gitting&&this.gitting.destroy&&this.gitting.destroy()}},{key:"render",value:function(){return s.a.createElement("div",{ref:this.gittingRef})}}]),e}(s.a.Component),N=n("cPZa"),D=n("Qi1R");var j=function(t){var e=t.navigation;return e.length?s.a.createElement("div",{className:"navigation"},e.map(function(t,e){return s.a.createElement("a",{key:e,href:"#",onClick:function(e){return function(t,e){e.stopPropagation(),e.preventDefault(),Object(D.f)(t,-10)}(t,e)},className:"nav-".concat(t.tagName.toLowerCase())},t.innerText)})):null},I=function(t){function e(t){var n;return Object(u.default)(this,e),(n=Object(d.default)(this,Object(f.default)(e).call(this,t))).state={id:null,post:{},navigation:[]},n.htmlRef=s.a.createRef(),n}return Object(m.default)(e,t),Object(l.default)(e,[{key:"componentDidMount",value:function(){var t=this;Object(D.e)("id").then(function(e){E.a.byId(e).then(function(n){t.setState(function(){return{id:e,post:n}}),t.setState(function(){return{navigation:Object(D.b)(t.htmlRef.current)}});var r=Object(c.default)(t.htmlRef.current.querySelectorAll("a")).filter(function(t){return 1===t.children.length&&"IMG"===t.children[0].tagName}).map(function(t){return t.href="javascript:void(0);",t.children[0]});t.zoom=x(r,{background:"rgba(255, 255, 255, 0.8)"})}).catch(function(){h.a.push("/error")})})}},{key:"componentWillUnmount",value:function(){this.zoom.detach()}},{key:"render",value:function(){var t=this.state,e=t.post,n=t.navigation;return e.id?s.a.createElement("div",{className:"post-wrapper"},s.a.createElement(C.a,{title:"".concat(M.seo.title," | ").concat(e.title)}),s.a.createElement("div",{className:"post-item"},s.a.createElement("div",{className:"content",style:{padding:0}},s.a.createElement(v.a,{href:"/post?id=".concat(e.id)},s.a.createElement("a",{className:"title",style:{marginBottom:10,fontSize:18}},e.title)),s.a.createElement("div",{className:"html markdown-body",ref:this.htmlRef,dangerouslySetInnerHTML:{__html:e.html}})),s.a.createElement("div",{className:"time",title:Object(D.a)(e.created_at)},Object(D.d)(e.created_at)),s.a.createElement(j,{navigation:n})),e.locked?s.a.createElement("div",{className:"locked"},Object(D.g)("commentLocked")):s.a.createElement($,{id:this.state.id})):s.a.createElement(N.a,null)}}]),e}(s.a.Component),T=function(t){var e=t.query;return s.a.createElement("div",{className:"page page-post"},s.a.createElement(I,{query:e}))};T.getInitialProps=function(){var t=Object(i.default)(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.query,t.abrupt("return",{query:n});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();e.default=T},z7mI:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/post",function(){var t=n("EhLH");return{page:t.default||t}}])}},[["z7mI","5d41","9da1"]]]);